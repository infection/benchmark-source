<?php

declare(strict_types=1);

namespace Infection\BenchmarkCodeGenerator\Test\Console\Command\GenerateCommand;

use Infection\BenchmarkCodeGenerator\FileGenerator\FileGenerator;
use Infection\BenchmarkCodeGenerator\FileGenerator\GeneratedFile;

final readonly class DummyServiceGenerator implements FileGenerator
{
    private const TEMPLATE = <<<'PHP'
    <?php
    
    namespace Infection\BenchmarkCodeGenerator\AutoGenerated\App;
    
    final class DummyService__ID__
    {
    }

    PHP;

    public function generate(string $id): GeneratedFile
    {
        return new GeneratedFile(
            sprintf(
                'DummyService%s.php',
                $id,
            ),
            str_replace(
                '__ID__',
                $id,
                self::TEMPLATE,
            ),
        );
    }
}
